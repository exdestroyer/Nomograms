<!DOCTYPE html>
<html>
<head>
<title>Quadratic Numogram</title>
</head>
<body>
<h2><center>x<sup>2</sup>+ax+b=0</center></h2>
<div id="home" onmousedown="mouseFunction(event)">
If you can see this, look for errors in the scripts with the script debugger (F12)
</div>
<p id="mus"></p>

<!-- the import instruction is not yet implemented
  Vectors.js should be imported into curves.js
  and that should be imported into the main script
  -->
<script lang="ecmascript" src='Vectors.js' ></script>
<script lang="ecmascript" src='curves.js'></script>

<script>
var sText;

// set up the curves
var uObj = setupUObj();
var vObj = setupVObj();
var wObj = setupWObj();

//set up svg and specify size
sText = '<svg width = "'+ dWidth + '" height = "' + dHeight +'" >/n'; 
//draw bounding box
sText += '<rect width="'+ dWidth + '" height="' + dHeight + '" style="fill:white;stroke-width:3;stroke:grey" />\n';
//draw curves
//debugger;
sText += drawCurve( uObj);
sText += drawCurve( vObj);
sText += drawCurve( wObj);
//finish svg string and display in <div> "home"
sText += ' </svg>\n';
home.innerHTML = sText;


// These curve objects have  label information, domain, and scale information and curve's parametric functions.
// These functions should take a parameter and return a value in the range 0 - 100 which will
// be scaled and mapped into the svg display.
function setupUObj(){
	var o = new Curve;
	var i, del;
	
	o.title = {x:5,y:95,t:"b"}; // curve title info

	// since it's a straight line, 2 points are sufficient
	o.domain = [-10,10];
	for(i=-10;i<11;i++){
		o.scale[i+10] = i; // labelled points
	}
	o.majorTicPoints=[]; // populated at run time
	del = 0.5;
	for(i=-10/del;i<10/del+1;i++){
		o.majorTics[i+10/del]= i*del;
	}
	del = 0.1;
	for(i=-10/del;i<10/del+1;i++){
		o.minorTics[i+10/del]= i*del;
	}
	o.x=function(p){return 0;}
	o.y=function(p){return 5*p +50;}
	return o;
}

function setupVObj(){
	var o = new Curve;
	var i, del;
	o.title = {x:95,y:95,t:"a"}; // curve title info
	// since it's a straight line, 2 points are sufficient
	o.domain = [-10,10];
	for(i=-10;i<11;i++){
		o.scale[i+10] = i; // labelled points
	}
	o.majorTicPoints=[]; // populated at run time
	del = 0.5;
	for(i=-10/del;i<10/del+1;i++){
		o.majorTics[i+10/del]= i*del;
	}
	del = 0.1;
	for(i=-10/del;i<10/del+1;i++){
		o.minorTics[i+10/del]= i*del;
	}
	o.x=function(p){return 100;}
	o.y=function(p){return 5*p +50;}
	return o;
}

function setupWObj(){
	var o = new Curve;
	var i;
   
	o.title = {x:45,y:50,t:"x (sign matches a)"}; // curve title info
	//use for loops for these
	del=0.1;
	for(i=0;i<11/del;i++){
		o.domain[i]=i*del;
	}
	o.scale=[0,0.1,0.2,0.3,0.4,0.5,1,2,3,4,5,6,7,8,9,10]; // labelled points
	o.majorTicPoints=[]; // populated at run time
	o.majorTics=[0,,0.05,0.1,0.15,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1,1.5,2,2.5,3,4,5,6,7,8,9,10];;

	for(i=0;i<90;i++){
		o.minorTics[i]= i * 0.1;
	}
	o.x=function(p){return 100*p/(p+1);}
	o.y=function(p){return 50-10*p*p/(p+1);}
	return o;
}

// put in an element with onmousedown="mouseFunction(event)" 
function mouseFunction(e) {  // this function displays mouse position
    var x = e.clientX;
    var y = e.clientY;
    var coor = "Coordinates: (" + x + "," + y + ")";
    document.getElementById("mus").innerHTML = coor;
}
</script>
</body>
</html>
